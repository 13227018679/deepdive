deepdive.schema.variables {
P.label: Boolean
Q.label: Boolean

}

deepdive.extraction.extractors.ext_P {
sql: """
SELECT R0.x AS column_0
FROM data R0
WHERE R0.y = 1
"""
input_relations: [
  data
]
style: sql_extractor
output_relation: P
materialize: false

}

deepdive.extraction.extractors.ext_Q {
sql: """
SELECT R0.x AS column_0
FROM data R0
WHERE R0.y = 2
"""
input_relations: [
  data
]
style: sql_extractor
output_relation: Q
materialize: false

}

deepdive.inference.factors.inf_imply_P_Q {
input_query: """
SELECT R0.id AS "P.R0.id"
     , R1.id AS "Q.R1.id"
FROM P R0
   , Q R1
WHERE R1.x = R0.x
  AND true
"""
function: """Imply(P.R0.label, Q.R1.label)"""
weight: """1"""
input_relations: [
  P
  Q
]

}

deepdive.pipeline.run: ${PIPELINE}

deepdive.pipeline.pipelines.extraction: [
  ext_P
  ext_Q
]

deepdive.pipeline.pipelines.inference: [
  inf_imply_P_Q
]

deepdive.pipeline.pipelines.endtoend: [
  ext_P
  ext_Q
  inf_imply_P_Q
]

