
  deepdive.db.default {
    driver: "org.postgresql.Driver"
    url: "jdbc:postgresql://"${PGHOST}":"${PGPORT}"/"${DBNAME}
    user: ${PGUSER}
    password: ${PGPASSWORD}
    dbname: ${DBNAME}
    host: ${PGHOST}
    port: ${PGPORT}
    incremental_mode: MERGE
    }
    


      deepdive.schema.variables {
        
      }
    

      deepdive.extraction.extractors.extraction_rule_2 {
        sql: """ TRUNCATE person_smokes;
        INSERT INTO person_smokes 
            SELECT R0.person_id, R0.smokes, SUM(R0.dd_count)
            FROM dd_new_person_smokes R0
         GROUP BY R0.person_id, R0.smokes;
        DELETE FROM person_smokes WHERE dd_count = 0;
        """
        style: "sql_extractor"
          
      }
    

      deepdive.extraction.extractors.extraction_rule_3 {
        sql: """ TRUNCATE friends;
        INSERT INTO friends 
            SELECT R0.person_id, R0.friend_id, SUM(R0.dd_count)
            FROM dd_new_friends R0
         GROUP BY R0.person_id, R0.friend_id;
        DELETE FROM friends WHERE dd_count = 0;
        """
        style: "sql_extractor"
          
      }
    

      deepdive.extraction.extractors.extraction_rule_1 {
        sql: """ TRUNCATE person_has_cancer;
        INSERT INTO person_has_cancer 
            SELECT R0.person_id, R0.has_cancer, SUM(R0.dd_count)
            FROM dd_new_person_has_cancer R0
         GROUP BY R0.person_id, R0.has_cancer;
        DELETE FROM person_has_cancer WHERE dd_count = 0;
        """
        style: "sql_extractor"
          
      }
    

      deepdive.extraction.extractors.extraction_rule_0 {
        sql: """ TRUNCATE person;
        INSERT INTO person 
            SELECT R0.person_id, R0.name, SUM(R0.dd_count)
            FROM dd_new_person R0
         GROUP BY R0.person_id, R0.name;
        DELETE FROM person WHERE dd_count = 0;
        """
        style: "sql_extractor"
          
      }
    
deepdive.pipeline.run: ${PIPELINE}
deepdive.pipeline.pipelines.extraction: [extraction_rule_2, extraction_rule_3, extraction_rule_1, extraction_rule_0]
